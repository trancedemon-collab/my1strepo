<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Search Engines Checklist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c;
            min-height: 100vh;
        }
    </style>
</head>
<body class="flex flex-col lg:flex-row items-center lg:items-start justify-center p-4 gap-6">

    <!-- Main Checklist and Counter Container -->
    <div class="flex flex-col lg:flex-row gap-6 w-full max-w-7xl">
        <!-- Main Checklist Section -->
        <div class="bg-gray-800 rounded-2xl shadow-xl w-full lg:w-2/3 p-8 space-y-6">
            <div class="flex flex-col items-center text-center space-y-2">
                <h1 class="text-4xl font-bold text-gray-50">Job Search Engines</h1>
                <p class="text-gray-400">A checklist to keep track of the job search engines you've explored. Your progress is automatically saved!</p>
            </div>
            <div id="checklist-container" class="space-y-4">
                <!-- Checklist items will be dynamically inserted here -->
            </div>
            <div class="space-y-4 mt-8">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-gray-50">Archived Items</h2>
                    <button id="toggle-archived-btn" class="py-1 px-3 bg-gray-700 text-gray-400 text-sm font-semibold rounded-lg hover:bg-gray-600 transition-colors duration-200">Show</button>
                </div>
                <div id="archived-list-wrapper" class="hidden">
                    <div id="archived-container" class="space-y-4">
                        <!-- Archived items will be dynamically inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Sidebar for Import and Counters -->
        <div class="bg-gray-800 rounded-2xl shadow-xl w-full lg:w-1/3 p-8 space-y-6">
            <div class="space-y-4">
                <h2 class="text-2xl font-bold text-gray-50 text-center">Summary</h2>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div class="p-4 bg-gray-900 rounded-lg">
                        <p id="total-count" class="text-3xl font-bold text-gray-50">0</p>
                        <p class="text-gray-400 text-sm">Total</p>
                    </div>
                    <div class="p-4 bg-gray-900 rounded-lg">
                        <p id="signed-up-count" class="text-3xl font-bold text-green-400">0</p>
                        <p class="text-gray-400 text-sm">Signed Up</p>
                    </div>
                    <div class="p-4 bg-gray-900 rounded-lg">
                        <p id="remaining-count" class="text-3xl font-bold text-blue-400">0</p>
                        <p class="text-gray-400 text-sm">Remaining</p>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <h2 class="text-2xl font-bold text-gray-50 text-center">Your Selections</h2>
                <div id="checked-items-container" class="text-gray-400 space-y-2">
                    <!-- Checked items will be dynamically inserted here -->
                </div>
            </div>

            <div class="space-y-4">
                <h2 class="text-2xl font-bold text-gray-50 text-center">Add New Engines</h2>
                <p class="text-gray-400 text-sm">Enter one engine title per line.</p>
                <textarea id="import-box" rows="5" class="w-full p-2 bg-gray-700 text-gray-50 rounded-lg border border-gray-600 focus:outline-none focus:ring focus:ring-blue-500"></textarea>
                <button id="add-button" class="w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200">
                    Add Engines
                </button>
            </div>
        </div>
    </div>

    <script>
        const checklistContainer = document.getElementById('checklist-container');
        const archivedContainer = document.getElementById('archived-container');
        const archivedListWrapper = document.getElementById('archived-list-wrapper');
        const toggleArchivedBtn = document.getElementById('toggle-archived-btn');
        const checkedItemsContainer = document.getElementById('checked-items-container');
        const importBox = document.getElementById('import-box');
        const addButton = document.getElementById('add-button');
        const totalCountEl = document.getElementById('total-count');
        const signedUpCountEl = document.getElementById('signed-up-count');
        const remainingCountEl = document.getElementById('remaining-count');

        const DEFAULT_JOB_ENGINES = [
            { name: "FlexJobs", description: "Curated remote and flexible job listings." },
            { name: "We Work Remotely", description: "Large remote work community with various job listings." },
            { name: "Remote.co", description: "Remote job board and remote work resources." },
            { name: "AngelList", description: "Startup hiring for remote positions." },
            { name: "Hubstaff Talent", description: "Free resource of remote freelancers and agencies." },
            { name: "Jobspresso", description: "Hand-picked remote jobs in tech, marketing, and more." },
            { name: "Remote OK", description: "Remote job listings across multiple categories." },
            { name: "Working Nomads", description: "Curated remote jobs for digital nomads." },
            { name: "Remotive", description: "Remote jobs in tech and startup sectors." },
            { name: "SolidGigs", description: "Hand-picked freelance jobs and resources." },
            { name: "Toptal", description: "High-quality freelance jobs for top talent." },
            { name: "Guru", description: "Remote freelance jobs across various fields." },
            { name: "Freelance Writing Jobs", description: "Remote jobs for writers." },
            { name: "Contena", description: "Remote writing jobs and resources." },
            { name: "ProBlogger", description: "Blogging and content writing remote jobs." },
            { name: "Textbroker", description: "Remote writing and content creation jobs." },
            { name: "ServiceScape", description: "Remote jobs for editors, translators, and writers." },
            { name: "Mediabistro", description: "Remote media and journalism jobs." },
            { name: "Authentic Jobs", description: "Remote jobs for creatives and developers." },
            { name: "Smashing Magazine Jobs", description: "Remote jobs for designers and developers." },
            { name: "Remote Design Jobs", description: "Design-focused remote job listings." },
            { name: "DesignCrowd", description: "Freelance and remote jobs for designers." },
            { name: "99designs", description: "Design contests and freelance jobs." },
            { name: "Behance", description: "Creative portfolio site with remote job listings." },
            { name: "Upwork", description: "Platform for freelancers and remote work." },
            { name: "Gigster", description: "Remote startup jobs." },
            { name: "Github Jobs", description: "Remote developer jobs." },
            { name: "Stack Overflow Jobs", description: "Remote tech jobs." },
            { name: "Dice", description: "Remote tech job listings." },
            { name: "HackerRank", description: "Remote coding challenges and job listings." },
            { name: "Gun.io", description: "Remote software development jobs." },
            { name: "X-Team", description: "Remote developer jobs with long-term contracts." },
            { name: "RemotePython", description: "Python-focused remote jobs." },
            { name: "Python.org Jobs", description: "Remote Python developer jobs." },
            { name: "Auth0 Jobs", description: "Remote tech and design job listings." },
            { name: "Mashable Job Board", description: "Remote jobs in tech and media." },
            { name: "Crunchboard", description: "Tech-focused job board with remote listings." },
            { name: "Krop", description: "Creative remote jobs and portfolios." },
            { name: "Envato Studio", description: "Freelance remote jobs for creatives." },
            { name: "Fiverr", description: "Freelance remote gigs starting at $5." },
            { name: "TaskRabbit", description: "Remote and local freelance gigs." },
            { name: "Craigslist", description: "Remote job listings under 'gigs' and 'jobs'." },
            { name: "Remote Work Hub", description: "Remote job board and membership community." },
            { name: "EuropeRemotely", description: "Remote jobs for Europeans." },
            { name: "Virtual Vocations", description: "Remote job listings with detailed company profiles." },
            { name: "Pangian", description: "Global community and remote job board." },
            { name: "Outsourcely", description: "Remote jobs for startups and established companies." },
            { name: "Dynamite Jobs", description: "Curated remote jobs in various fields." },
            { name: "Remote4Me", description: "Remote job listings categorized by job type." },
            { name: "RemoJob Club", description: "Newsletter featuring remote jobs." },
            { name: "Crossover", description: "Remote jobs with competitive salaries." },
            { name: "Cloudpeeps", description: "Freelance and remote job opportunities." },
            { name: "JustRemote", description: "Remote job listings from around the web." },
            { name: "Remotees", description: "Remote jobs from various companies." },
            { name: "YunoJuno", description: "Remote freelance jobs for creatives." },
            { name: "Dribbble", description: "Remote design jobs and freelance opportunities." },
            { name: "The Muse", description: "Remote jobs and career advice." },
            { name: "Glassdoor", description: "Company reviews and remote job listings." },
            { name: "Indeed", description: "Extensive job listings including remote positions." },
            { name: "LinkedIn", description: "Professional networking and remote job listings." },
            { name: "Simply Hired", description: "Job search engine with remote work filter." },
            { name: "CareerBuilder", description: "Remote job listings and career resources." },
            { name: "ZipRecruiter", description: "Remote job listings and company reviews." },
            { name: "Monster", description: "Remote job listings and career advice." },
            { name: "Idealist", description: "Remote jobs in the nonprofit sector." },
            { name: "PeoplePerHour", description: "Freelance jobs for remote workers." }
        ];

        let state = {
            active: [],
            archived: [],
            checked: new Set()
        };

        const saveState = () => {
            localStorage.setItem('jobSearchChecklistState', JSON.stringify({
                active: state.active,
                archived: state.archived,
                checked: Array.from(state.checked)
            }));
            renderAll();
        };

        const loadState = () => {
            const storedState = localStorage.getItem('jobSearchChecklistState');
            if (storedState) {
                const parsedState = JSON.parse(storedState);
                state.active = parsedState.active || [];
                state.archived = parsedState.archived || [];
                state.checked = new Set(parsedState.checked || []);
            } else {
                state.active = DEFAULT_JOB_ENGINES;
            }
        };

        const renderCounts = () => {
            const total = state.active.length;
            const signedUp = state.checked.size;
            const remaining = total - signedUp;
            totalCountEl.textContent = total;
            signedUpCountEl.textContent = signedUp;
            remainingCountEl.textContent = remaining;
        };

        const renderCheckedItems = () => {
            checkedItemsContainer.innerHTML = '';
            if (state.checked.size === 0) {
                checkedItemsContainer.textContent = "No items checked yet.";
                checkedItemsContainer.classList.add('italic');
                return;
            }
            checkedItemsContainer.classList.remove('italic');
            const ul = document.createElement('ul');
            ul.className = "list-disc list-inside space-y-1";
            
            Array.from(state.checked).sort().forEach(itemName => {
                const li = document.createElement('li');
                li.className = "text-gray-300";
                li.textContent = itemName;
                ul.appendChild(li);
            });
            checkedItemsContainer.appendChild(ul);
        };

        const renderChecklist = (items, container, isArchivedList = false) => {
            container.innerHTML = '';
            items.forEach((item, index) => {
                const isChecked = state.checked.has(item.name);
                const listItem = document.createElement('div');
                listItem.className = `flex items-start space-x-3 p-4 rounded-lg transition-colors duration-200 ${isChecked ? 'bg-green-700' : 'bg-gray-900'}`;
                
                const actionsHtml = isArchivedList 
                    ? `<button class="unarchive-btn ml-auto text-sm text-gray-400 hover:text-green-400">Unarchive</button>`
                    : `<button class="archive-btn ml-auto text-sm text-gray-400 hover:text-blue-400">Archive</button>`;

                listItem.innerHTML = `
                    <input type="checkbox" id="item-${item.name.replace(/\s/g, '-')}" class="mt-1 h-5 w-5 text-blue-400 rounded focus:ring-blue-500" ${isChecked ? 'checked' : ''}>
                    <label for="item-${item.name.replace(/\s/g, '-')}" class="text-sm cursor-pointer flex-1">
                        <span class="font-medium text-gray-50">${item.name}</span>
                        <span class="text-gray-400 block">${item.description}</span>
                    </label>
                    <button class="remove-btn ml-2 text-sm text-gray-400 hover:text-red-400">Remove</button>
                    ${actionsHtml}
                `;

                const checkbox = listItem.querySelector('input[type="checkbox"]');
                const removeBtn = listItem.querySelector('.remove-btn');
                const archiveBtn = listItem.querySelector('.archive-btn');
                const unarchiveBtn = listItem.querySelector('.unarchive-btn');

                checkbox.addEventListener('change', () => {
                    if (checkbox.checked) {
                        state.checked.add(item.name);
                    } else {
                        state.checked.delete(item.name);
                    }
                    saveState();
                });

                removeBtn.addEventListener('click', () => {
                    if (isArchivedList) {
                        state.archived = state.archived.filter(i => i.name !== item.name);
                    } else {
                        state.active = state.active.filter(i => i.name !== item.name);
                    }
                    state.checked.delete(item.name);
                    saveState();
                });

                if (archiveBtn) {
                    archiveBtn.addEventListener('click', () => {
                        state.active = state.active.filter(i => i.name !== item.name);
                        state.archived.push(item);
                        state.checked.delete(item.name);
                        saveState();
                    });
                }
                
                if (unarchiveBtn) {
                    unarchiveBtn.addEventListener('click', () => {
                        state.archived = state.archived.filter(i => i.name !== item.name);
                        state.active.push(item);
                        saveState();
                    });
                }

                container.appendChild(listItem);
            });
        };

        const handleAddEngines = () => {
            const newEnginesText = importBox.value.trim();
            if (!newEnginesText) return;

            const newEngineNames = newEnginesText.split('\n').map(line => line.trim()).filter(line => line.length > 0);
            const newItems = newEngineNames.map(name => ({ name, description: "Imported by user." }));
            
            state.active.push(...newItems);
            importBox.value = '';
            saveState();
        };

        const renderAll = () => {
            renderChecklist(state.active, checklistContainer);
            renderChecklist(state.archived, archivedContainer, true);
            renderCheckedItems();
            renderCounts();
        };
        
        // Toggle the visibility of the archived items
        toggleArchivedBtn.addEventListener('click', () => {
            const isHidden = archivedListWrapper.classList.toggle('hidden');
            toggleArchivedBtn.textContent = isHidden ? 'Show' : 'Hide';
        });

        addButton.addEventListener('click', handleAddEngines);
        window.onload = () => {
            loadState();
            renderAll();
        };
    </script>
</body>
</html>

